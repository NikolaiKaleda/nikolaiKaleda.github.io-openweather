document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".formSubmit"),t=document.querySelector(".stopInterval"),n=null;function o(){var e,t,n,o=document.querySelector("#latitude").value,r=document.querySelector("#longitude").value;""==o||""==r?navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude,n=e.coords.longitude;a(t,n)}):(t=r,(n=/-?\d{1,3}\.\d+/).test(e=o)&&n.test(t)?a(e,t):alert("Enter valid data"))}function a(e,t){var n=new XMLHttpRequest;n.open("GET","http://api.openweathermap.org/data/2.5/weather?lat="+e+"&lon="+t+"139&APPID=79db73bf448b423ff3b6dd802029981d",!1),n.send(),200!=n.status?alert(n.status+", "+n.statusText):console.log(JSON.parse(n.responseText))}e.addEventListener("click",function(){n=setInterval(o,1e3),window.onbeforeunload=function(e){return"Are you sure you want to leave this page?"}}),t.addEventListener("click",function(){clearInterval(n),window.onbeforeunload=null})});